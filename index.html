<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio Web Developer</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/daisyui/3.9.4/full.css" rel="stylesheet" type="text/css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <style>
    /* pour que lemenu disparer  */
    .sticky-navbar {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 100;
      transition: transform 0.3s ease-in-out;
    }
    
    .hidden-navbar {
      transform: translateY(-100%);
    }

    body {
      padding-top: 68px; /* Pour compenser la navbar fixed */
      min-height: 200vh; /* la c est just pour tesster la nave bare  */
      background-color: #f5f5f5;
    }

    /* Fond d'image japonais pour tout le site */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('c:\\Users\\hamza\\Downloads\\fleurs-de-cerisier-au-printemps-pagode-chureito-et-montagne-fuji-au-coucher-du-soleil-au-japon.jpg'); /
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      opacity: 0.15; 
      z-index: -1;
    }

    .content-placeholder {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      color: #555;
    }
    
    /* petale de sakura  */
    .petal {
      position: absolute;
      background-color: rgba(255, 155, 180, 0.8);
      border-radius: 150% 0 150% 0;
      animation: fall linear forwards;
      z-index: 5;
    }

    @keyframes fall {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
    
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 1;
    }
    
    .cv-container {
      position: relative;
      z-index: 2;
    }

    /* Style pour l'image de fond  */
    .hero-japan {
      background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('c:\Users\hamza\Downloads\le-paysage-fantastique-du-japon.jpg');
      background-size: cover;
      background-position: center;
      color: white;
    }
  </style>
</head>
<body>
  <!-- Canvas pour les pétales de sakura -->
  <canvas id="sakura"></canvas>
  
  <!-- Navbar qui disparaît/apparaît -->
  <div class="sticky-navbar bg-base-100 shadow-lg transition-transform duration-300" id="navbar">
    <div class="navbar container mx-auto">
      <div class="navbar-start">
        <div class="dropdown">
          <label tabindex="0" class="btn btn-ghost lg:hidden">
            <i class="fas fa-bars"></i>
          </label>
          <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
            <li><a href="#accueil">Accueil</a></li>
            <li><a href="#cv">Mon CV</a></li>
            <li><a href="#passion">Ma Passion</a></li>
            <li><a href="#calculatrice">Calculatrice</a></li>
            <li><a href="#contact">Me contacter</a></li>
            <li><a href="#questionnaire">Questionnaire</a></li>
          </ul>
        </div>
        <a class="btn btn-ghost normal-case text-xl">WebDev</a>
      </div>
      <div class="navbar-center hidden lg:flex">
        <ul class="menu menu-horizontal px-1">
          <li><a href="#accueil">Accueil</a></li>
          <li><a href="#cv">Mon CV</a></li>
          <li><a href="#passion">Ma Passion</a></li>
          <li><a href="#calculatrice">Calculatrice</a></li>
          <li><a href="#contact">Me contacter</a></li>
          <li><a href="#questionnaire">Questionnaire</a></li>
        </ul>
      </div>
      <div class="navbar-end">
        <div class="dropdown dropdown-end">
          <label tabindex="0" class="btn btn-ghost btn-circle">
            <div class="indicator">
              <i class="fas fa-moon"></i>
            </div>
          </label>
          <div tabindex="0" class="mt-3 z-[1] card card-compact dropdown-content w-52 bg-base-100 shadow">
            <div class="card-body">
              <span class="font-bold text-lg">Thèmes</span>
              <div class="flex flex-col">
                <button class="btn btn-sm btn-ghost" onclick="document.documentElement.setAttribute('data-theme', 'light')">Clair</button>
                <button class="btn btn-sm btn-ghost" onclick="document.documentElement.setAttribute('data-theme', 'dark')">Sombre</button>
                <button class="btn btn-sm btn-ghost" onclick="document.documentElement.setAttribute('data-theme', 'cupcake')">Cupcake</button>
                <button class="btn btn-sm btn-ghost" onclick="document.documentElement.setAttribute('data-theme', 'cyberpunk')">Cyberpunk</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Contenu de placeholder avec sections pour chaque partie -->
  <div class="container mx-auto px-4">
    <!-- Accueil avec image japonaise en arrière-plan -->
    <section id="accueil" class="min-h-screen flex flex-col justify-center items-center hero hero-japan">
      <div class="hero-overlay bg-opacity-60"></div>
      <div class="hero-content text-center text-white">
        <div class="max-w-md">
          <h1 class="text-5xl font-bold mb-4">Bienvenue sur mon Portfolio</h1>
          <p class="text-xl">Développeur web passionné</p>
          <div class="mt-8">
            <a href="#cv" class="btn btn-primary mr-2">Voir mon CV</a>
            <a href="#contact" class="btn glass">Me contacter</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Section CV intégrée depuis le premier fichier -->
    <section id="cv" class="py-16">
      <h2 class="text-3xl font-bold mb-8 text-center">Mon CV</h2>
      
      <!-- CV Container -->
      <div class="cv-container max-w-4xl mx-auto shadow-xl bg-white">
        <!-- En-tête -->
        <div class="bg-gray-800 text-white px-6 py-6">
          <div class="flex items-center space-x-6">
            <img src="https://placehold.co/100x100" alt="Avatar Hamza" class="rounded-full border-2 border-pink-300 w-20 h-20" />
            <div>
              <h1 class="text-3xl font-bold">Hamza Douich</h1>
              <p class="text-gray-300 italic">Développeur web et passionné de technologies</p>
            </div>
          </div>
        </div>

        <div class="flex flex-col md:flex-row">
          <!-- Colonne gauche -->
          <div class="w-full md:w-1/3 bg-gray-100 p-6">
            <!-- Informations -->
            <div class="mb-6">
              <h2 class="text-xl font-semibold border-b border-pink-400 pb-2 mb-3">Informations personnelles</h2>
              <ul class="space-y-3">
                <li class="flex items-center"><i class="fas fa-envelope mr-3 text-pink-500 w-5"></i><span>hamza.douich@email.com</span></li>
                <li class="flex items-center"><i class="fas fa-phone mr-3 text-pink-500 w-5"></i><span>+33 6 12 34 56 78</span></li>
                <li class="flex items-center"><i class="fas fa-map-marker-alt mr-3 text-pink-500 w-5"></i><span>Paris, France</span></li>
                <li class="flex items-center"><i class="fab fa-linkedin mr-3 text-pink-500 w-5"></i><span>linkedin.com/in/hamzadouich</span></li>
              </ul>
            </div>

            <!-- Formation -->
            <div class="mb-6">
              <h2 class="text-xl font-semibold border-b border-pink-400 pb-2 mb-3">Formation</h2>
              <div class="mb-4">
                <div class="font-medium">BTS Services Informatiques</div>
                <div class="text-sm text-gray-600">Lycée ABC, Paris</div>
                <div class="text-sm text-gray-600">2022 - 2024</div>
              </div>
              <div>
                <div class="font-medium">Baccalauréat Général</div>
                <div class="text-sm text-gray-600">Lycée XYZ, Paris</div>
                <div class="text-sm text-gray-600">2019 - 2022</div>
              </div>
            </div>

            <!-- Compétences -->
            <div class="mb-6">
              <h2 class="text-xl font-semibold border-b border-pink-400 pb-2 mb-3">Compétences</h2>
              <div class="mb-2">
                <div class="font-medium">Développement Web - Expert</div>
                <div class="text-sm text-gray-600">HTML5, CSS3, JavaScript</div>
              </div>
              <div class="mb-2">
                <div class="font-medium">Frameworks - Expert</div>
                <div class="text-sm text-gray-600">Tailwind CSS, DaisyUI</div>
              </div>
              <div class="mb-2">
                <div class="font-medium">Node.js/npm - Expert</div>
                <div class="text-sm text-gray-600">Git, GitHub</div>
              </div>
              <div class="mb-2">
                <div class="font-medium">Programmation - Expert</div>
                <div class="text-sm text-gray-600">React.js, PHP, Python</div>
              </div>
              <div>
                <div class="font-medium">Résolution de problèmes - Expert</div>
              </div>
            </div>

            <!-- Langues -->
            <div>
              <h2 class="text-xl font-semibold border-b border-pink-400 pb-2 mb-3">Langues</h2>
              <div class="mb-1"><div class="font-medium">Français - Natif</div></div>
              <div class="mb-1"><div class="font-medium">Anglais - Courant</div></div>
              <div><div class="font-medium">Arabe - Notions</div></div>
            </div>
          </div>

          <!-- Colonne droite -->
          <div class="w-full md:w-2/3 bg-white p-6">
            <!-- Profil -->
            <div class="mb-8">
              <h2 class="text-xl font-semibold border-b border-pink-400 pb-2 mb-3">Profil</h2>
              <p class="text-gray-700">
                Développeur web passionné par la création d'interfaces modernes et intuitives.
                Expérience confirmée dans la gestion et la coordination de projets de développement.
                Compétent en matière de service à la clientèle et de résolution de problèmes techniques.
              </p>
            </div>

            <!-- Expérience -->
            <div class="mb-8">
              <h2 class="text-xl font-semibold border-b border-pink-400 pb-2 mb-3">Expérience professionnelle</h2>
              <div class="mb-5">
                <div class="font-medium">Stage développeur web — Entreprise XYZ, Paris</div>
                <div class="text-sm text-gray-500 italic mb-2">Juin 2024 - Août 2024</div>
                <ul class="list-disc list-inside text-gray-700">
                  <li>Développement de nouvelles fonctionnalités</li>
                  <li>Optimisation de la base de données MySQL</li>
                  <li>Correction de bugs</li>
                  <li>Participation aux réunions d'équipe</li>
                </ul>
              </div>
              <div class="mb-5">
                <div class="font-medium">Projet freelance — Site e-commerce</div>
                <div class="text-sm text-gray-500 italic mb-2">Mars 2024 - Mai 2024</div>
                <ul class="list-disc list-inside text-gray-700">
                  <li>Création d'un site e-commerce complet</li>
                  <li>Intégration paiement + gestion des stocks</li>
                  <li>Design responsive avec Tailwind CSS</li>
                </ul>
              </div>
              <div>
                <div class="font-medium">Projet personnel — Gestion de tâches</div>
                <div class="text-sm text-gray-500 italic mb-2">Janvier 2024</div>
                <ul class="list-disc list-inside text-gray-700">
                  <li>Application web de to-do list</li>
                  <li>HTML, CSS, JavaScript, Node.js</li>
                  <li>Auth utilisateur</li>
                </ul>
              </div>
            </div>

            <!-- Références -->
            <div>
              <h2 class="text-xl font-semibold border-b border-pink-400 pb-2 mb-3">Références</h2>
              <p class="text-gray-700">Références disponibles sur demande</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section Ma Passion avec contenu japonais -->
    <section id="passion" class="py-16">
      <h2 class="text-3xl font-bold mb-8 text-center">Ma Passion pour le Japon</h2>
      <div class="card lg:card-side bg-base-100 shadow-xl max-w-5xl mx-auto overflow-hidden">
        <figure class="lg:w-1/2">
          <img src="c:\Users\hamza\Downloads\fleurs-de-cerisier-au-printemps-pagode-chureito-et-montagne-fuji-au-coucher-du-soleil-au-japon.jpg" alt="Mont Fuji avec pagode et cerisiers" class="w-full h-full object-cover" />
        </figure>
        <div class="card-body lg:w-1/2">
          <h3 class="card-title text-2xl">Le Pays du Soleil Levant</h3>
          <div class="space-y-4">
            <p>Le Japon a toujours exercé sur moi une fascination particulière. La dualité entre tradition séculaire et modernité futuriste crée un contraste saisissant qui inspire mon travail de développeur.</p>
            
            <div class="collapse collapse-plus bg-base-200">
              <input type="checkbox" /> 
              <div class="collapse-title font-medium">
                L'esthétique japonaise
              </div>
              <div class="collapse-content"> 
                <p>J'admire particulièrement les principes de "wabi-sabi" - l'acceptation de l'imperfection - et de "ma" - l'importance de l'espace négatif. Ces concepts influencent ma façon de concevoir des interfaces utilisateur équilibrées et harmonieuses.</p>
              </div>
            </div>
            
            <div class="collapse collapse-plus bg-base-200">
              <input type="checkbox" /> 
              <div class="collapse-title font-medium">
                Les quatres saisons
              </div>
              <div class="collapse-content"> 
                <p>Le Japon célèbre magnifiquement chaque saison. La plus emblématique reste le printemps avec ses cerisiers en fleurs (sakura), symbole de la beauté éphémère de la vie. Cette philosophie m'inspire à créer des expériences web mémorables.</p>
              </div>
            </div>
            
            <div class="collapse collapse-plus bg-base-200">
              <input type="checkbox" /> 
              <div class="collapse-title font-medium">
                Art et technologie
              </div>
              <div class="collapse-content"> 
                <p>Le Japon excelle dans l'art de combiner traditions ancestrales et innovations technologiques. Cette fusion harmonieuse est une source d'inspiration constante dans mes projets de développement web.</p>
              </div>
            </div>
          </div>
          
          <div class="card-actions justify-end mt-4">
            <button class="btn btn-primary">Découvrir plus</button>
          </div>
        </div>
      </div>
      
      <!-- Gallerie de miniatures -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-8 max-w-5xl mx-auto">
        <div class="bg-pink-100 p-4 rounded-lg text-center shadow-md hover:shadow-xl transition-shadow">
          <i class="fas fa-mountain text-3xl text-pink-500 mb-2"></i>
          <h4 class="font-semibold">Mont Fuji</h4>
        </div>
        <div class="bg-pink-100 p-4 rounded-lg text-center shadow-md hover:shadow-xl transition-shadow">
          <i class="fas fa-torii-gate text-3xl text-pink-500 mb-2"></i>
          <h4 class="font-semibold">Temples</h4>
        </div>
        <div class="bg-pink-100 p-4 rounded-lg text-center shadow-md hover:shadow-xl transition-shadow">
          <i class="fas fa-tree text-3xl text-pink-500 mb-2"></i>
          <h4 class="font-semibold">Cerisiers</h4>
        </div>
        <div class="bg-pink-100 p-4 rounded-lg text-center shadow-md hover:shadow-xl transition-shadow">
          <i class="fas fa-city text-3xl text-pink-500 mb-2"></i>
          <h4 class="font-semibold">Tokyo</h4>
        </div>
      </div>
    </section>

    <!-- Section Calculatrice intégrée dynamiquement -->
    <section id="calculatrice" class="py-16"></section>

    <section id="contact" class="py-16">
      <h2 class="text-3xl font-bold mb-8 text-center">Me contacter</h2>
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <p class="text-lg text-center">Pour me contacter, vous devez répondre correctement à une liste de questions.</p>
          <p class="text-center text-gray-500">Section Contact à développer</p>
        </div>
      </div>
    </section>

    <section id="questionnaire" class="py-16 mb-16">
      <h2 class="text-3xl font-bold mb-8 text-center">Questionnaire</h2>
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <p class="text-center text-gray-500">Section Questionnaire à développer</p>
          <div id="questions-container"></div>
        </div>
      </div>
    </section>
  </div>

  <!-- Script pour faire disparaître/apparaître la navbar -->
  <script>
    const navbar = document.getElementById('navbar');
    const showThreshold = 50; // Distance en pixels pour faire apparaître la navbar
    let isVisible = true;

    document.addEventListener('mousemove', (e) => {
      const mouseY = e.clientY;
      
      // Si la souris est proche du haut de la page, montrer la navbar
      if (mouseY <= 60 && !isVisible) {
        navbar.classList.remove('hidden-navbar');
        isVisible = true;
      }
      // Si la souris est en dessous du seuil, cacher la navbar
      else if (mouseY > showThreshold && isVisible) {
        navbar.classList.add('hidden-navbar');
        isVisible = false;
      }
    });

    // Afficher la navbar au défilement vers le haut
    let lastScrollTop = 0;
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      
      if (scrollTop < lastScrollTop) {
        // Défilement vers le haut
        navbar.classList.remove('hidden-navbar');
        isVisible = true;
      } else {
        // Défilement vers le bas
        navbar.classList.add('hidden-navbar');
        isVisible = false;
      }
      lastScrollTop = scrollTop;
    });

    // Structure du questionnaire (à compléter)
    const questionnaire = [
      {
        qlabel: 'Quelle est la capitale de la France?',
        qid: 1,
        reponses: [
          {rlabel: 'Paris', rid: 1},
          {rlabel: 'Lyon', rid: 2},
          {rlabel: 'Marseille', rid: 3}
        ]
      }
      // Autres questions à ajouter plus tard
    ];
    
    // Script pour les pétales de sakura en canvas (arrière-plan)
    const canvas = document.getElementById("sakura");
    const ctx = canvas.getContext("2d");

    let width = window.innerWidth;
    let height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;

    window.addEventListener("resize", () => {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    });

    const petals = [];

    function createPetal() {
      return {
        x: Math.random() * width,
        y: Math.random() * height - height,
        r: Math.random() * 5 + 2,
        d: Math.random() * 2 + 1,
        color: "rgba(255, 155, 180, 0.8)"
      };
    }

    for (let i = 0; i < 50; i++) {
      petals.push(createPetal());
    }

    function draw() {
      ctx.clearRect(0, 0, width, height);
      for (let i = 0; i < petals.length; i++) {
        let p = petals[i];
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.fill();
        p.y += p.d;
        p.x += Math.sin(p.y * 0.01);

        if (p.y > height) {
          petals[i] = createPetal();
          petals[i].y = 0;
        }
      }
      requestAnimationFrame(draw);
    }

    draw();
    
    // Script pour les pétales qui tombent sur le CV
    const cvContainer = document.querySelector('.cv-container');
    
    function createCVPetal() {
      if (!cvContainer) return;
      const cvRect = cvContainer.getBoundingClientRect();
      
      const petal = document.createElement('div');
      petal.className = 'petal';
      
      // Taille aléatoire entre 5px et 15px
      const size = Math.random() * 10 + 5;
      petal.style.width = `${size}px`;
      petal.style.height = `${size}px`;
      
      // Position aléatoire au-dessus du CV
      const xPos = Math.random() * cvRect.width;
      petal.style.left = `${xPos + cvRect.left}px`;
      petal.style.top = `${cvRect.top - size}px`;
      
      // Opacité aléatoire
      petal.style.opacity = Math.random() * 0.7 + 0.3;
      
      // Vitesse et durée aléatoires
      const fallDuration = Math.random() * 5 + 5;
      petal.style.animationDuration = `${fallDuration}s`;
      
      document.body.appendChild(petal);
      
      // Animation de chute
      let fallPosition = cvRect.top - size;
      const endPosition = cvRect.bottom;
      const fallSpeed = (Math.random() * 2 + 1);
      const swayAmount = Math.random() * 2 - 1;
      let swayPosition = xPos + cvRect.left;
      
      function animatePetal() {
        fallPosition += fallSpeed;
        swayPosition += Math.sin(fallPosition * 0.02) * swayAmount;
        
        petal.style.top = `${fallPosition}px`;
        petal.style.left = `${swayPosition}px`;
        
        if (fallPosition < endPosition) {
          requestAnimationFrame(animatePetal);
        } else {
          petal.remove();
        }
      }
      
      animatePetal();
    }
    
    // Section CV visible - activer les pétales
    function checkCVVisibility() {
      if (!cvContainer) return;
      
      const cvSection = document.getElementById('cv');
      const rect = cvSection.getBoundingClientRect();
      
      // Si la section CV est visible
      if (rect.top < window.innerHeight && rect.bottom > 0) {
        // Créer un nouveau pétale à intervalle régulier
        if (document.querySelectorAll('.petal').length < 25) { // Limite le nombre de pétales
          createCVPetal();
        }
      }
    }
    
    // Créer des pétales lorsque la section CV est visible
    setInterval(checkCVVisibility, 300);
    
    // Vérifier quand on scrolle
    window.addEventListener('scroll', checkCVVisibility);

    // Fonction pour définir l'image d'arrière-plan
    document.addEventListener('DOMContentLoaded', function() {
      const bgImage = 'c:\\Users\\hamza\\Downloads\\fleurs-de-cerisier-au-printemps-pagode-chureito-et-montagne-fuji-au-coucher-du-soleil-au-japon.jpg';
      
      // pour que le body se met a jour
      document.body.style.backgroundImage = `url('${bgImage}')`;
      document.body.style.backgroundSize = 'cover';
      document.body.style.backgroundPosition = 'center';
      document.body.style.backgroundAttachment = 'fixed';
      document.body.style.backgroundRepeat = 'no-repeat';
      document.body.style.backgroundBlendMode = 'overlay';
      
      // Mettre à jour l'arrière-plan de la section hero
      const heroSection = document.querySelector('#accueil');
      if (heroSection) {
        heroSection.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('${bgImage}')`;
        heroSection.style.backgroundSize = 'cover';
        heroSection.style.backgroundPosition = 'center';
      }
    });

    // debut de la calculatrice 
    document.addEventListener('DOMContentLoaded', function() {
      // Contenu HTML à insérer dans la section calculatrice
      const calculatriceSection = document.getElementById('calculatrice');
      if (calculatriceSection) {
        // Remplacer le contenu actuel par notre calculatrice
        calculatriceSection.innerHTML = `
          <h2 class="text-3xl font-bold mb-8 text-center">Calculatrice</h2>
          <div class="max-w-md mx-auto bg-base-100 shadow-xl rounded-xl overflow-hidden">
            <!-- Écran d'affichage -->
            <div class="bg-gray-800 text-white text-right px-4 py-6 text-3xl font-mono" id="calculatrice-display">0</div>
            
            <!-- Historique des opérations -->
            <div class="text-sm text-gray-500 px-4 py-2 bg-gray-100 text-right" id="calculatrice-history"></div>
            
            <!-- Boutons de la calculatrice -->
            <div class="grid grid-cols-4 gap-1 p-2 bg-gray-200">
              <!-- Première ligne -->
              <button class="btn btn-error text-white w-full" id="calculatrice-clear">C</button>
              <button class="btn btn-neutral text-white w-full" id="calculatrice-backspace">⌫</button>
              <button class="btn btn-neutral text-white w-full" id="calculatrice-percent">%</button>
              <button class="btn btn-primary text-white w-full" data-operation="/">÷</button>
              
              <!-- Deuxième ligne -->
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="7">7</button>
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="8">8</button>
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="9">9</button>
              <button class="btn btn-primary text-white w-full" data-operation="*">×</button>
              
              <!-- Troisième ligne -->
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="4">4</button>
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="5">5</button>
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="6">6</button>
              <button class="btn btn-primary text-white w-full" data-operation="-">−</button>
              
              <!-- Quatrième ligne -->
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="1">1</button>
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="2">2</button>
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="3">3</button>
              <button class="btn btn-primary text-white w-full" data-operation="+">+</button>
              
              <!-- Cinquième ligne -->
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" id="calculatrice-plusMinus">±</button>
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" data-number="0">0</button>
              <button class="btn btn-ghost bg-gray-300 hover:bg-gray-400 w-full" id="calculatrice-decimal">.</button>
              <button class="btn btn-primary text-white w-full" id="calculatrice-equals">=</button>
            </div>
          </div>
          
          <div class="mt-8 max-w-md mx-auto text-center">
            <div class="collapse collapse-plus bg-base-200">
              <input type="checkbox" /> 
              <div class="collapse-title font-medium">
                Fonctionnalités de la calculatrice
              </div>
              <div class="collapse-content"> 
                <ul class="text-left list-disc list-inside">
                  <li>Opérations basiques (addition, soustraction, multiplication, division)</li>
                  <li>Calcul de pourcentage</li>
                  <li>Changement de signe</li>
                  <li>Touches du clavier supportées</li>
                  <li>Historique des calculs</li>
                </ul>
              </div>
            </div>
          </div>
        `;
        // Script pour la calculatrice
        initCalculator();
      }
    });

    // Fonction d'initialisation de la calculatrice
    function initCalculator() {
      const display = document.getElementById('calculatrice-display');
      const history = document.getElementById('calculatrice-history');
      const numberButtons = document.querySelectorAll('[data-number]');
      const operationButtons = document.querySelectorAll('[data-operation]');
      const equalsButton = document.getElementById('calculatrice-equals');
      const clearButton = document.getElementById('calculatrice-clear');
      const backspaceButton = document.getElementById('calculatrice-backspace');
      const percentButton = document.getElementById('calculatrice-percent');
      const plusMinusButton = document.getElementById('calculatrice-plusMinus');
      const decimalButton = document.getElementById('calculatrice-decimal');
      
      let currentInput = '0';
      let previousInput = '';
      let operation = null;
      let resetScreen = false;
      let hasCalculated = false;
      
      // Fonction pour mettre à jour l'affichage
      function updateDisplay() {
        // Limite à 12 caractères pour éviter un débordement
        const displayValue = currentInput.length > 12 ? currentInput.substring(0, 12) : currentInput;
        if (display) display.textContent = displayValue;
      }
      
      //  mettre à jour l'historique
      function updateHistory() {
        if (!history) return;
        
        if (operation) {
          let operationSymbol = operation;
          if (operation === '*') operationSymbol = '×';
          if (operation === '/') operationSymbol = '÷';
          if (operation === '-') operationSymbol = '−';
          history.textContent = `${previousInput} ${operationSymbol}`;
        } else {
          history.textContent = '';
        }
      }
      
      // Fonction pour ajouter un nombre à l'entrée
      function appendNumber(number) {
        // pour Réinitialiser l'écran après un calcul
        if (hasCalculated) {
          currentInput = '0';
          hasCalculated = false;
        }
        
        // pour Réinitialiser l'écran si nécessaire
        if (resetScreen) {
          currentInput = '0';
          resetScreen = false;
        }
        
        // pour le 0 au depart 
        if (currentInput === '0' && number !== '.') {
          currentInput = number;
        } else {
          currentInput += number;
        }
        
        updateDisplay();
      }
      
      //  pour gérer les opérations
      function handleOperation(op) {
        
        if (operation !== null) {
          calculate();
        }
        
        previousInput = currentInput;
        operation = op;
        resetScreen = true;
        updateHistory();
      }
      
      // Fonction pour calculer le résultat
      function calculate() {
        if (operation === null || previousInput === '') return;
        
        let computation;
        const prev = parseFloat(previousInput);
        const current = parseFloat(currentInput);
        
        if (isNaN(prev) || isNaN(current)) return;
        
        switch (operation) {
          case '+':
            computation = prev + current;
            break;
          case '-':
            computation = prev - current;
            break;
          case '*':
            computation = prev * current;
            break;
          case '/':
            if (current === 0) {
              // Division par zéro
              computation = 'Erreur';
            } else {
              computation = prev / current;
            }
            break;
          default:
            return;
        }
        
        // pour metre a jour l historique
        if (history) {
          let operationSymbol = operation;
          if (operation === '*') operationSymbol = '×';
          if (operation === '/') operationSymbol = '÷';
          if (operation === '-') operationSymbol = '−';
          history.textContent = `${previousInput} ${operationSymbol} ${currentInput} =`;
        }
        
        // pour arrondir
        if (computation !== 'Erreur') {
          computation = Math.round(computation * 1000000) / 1000000;
          currentInput = computation.toString();
        } else {
          currentInput = computation;
        }
        
        operation = null;
        previousInput = '';
        resetScreen = true;
        hasCalculated = true;
        updateDisplay();
      }
      
      //  pour effacer
      function clear() {
        currentInput = '0';
        previousInput = '';
        operation = null;
        resetScreen = false;
        hasCalculated = false;
        updateDisplay();
        updateHistory();
      }
      
      // pour suprimer le dernier chiffre ou operation
      function backspace() {
        if (currentInput.length === 1 || currentInput === 'Erreur') {
          currentInput = '0';
        } else {
          currentInput = currentInput.slice(0, -1);
        }
        updateDisplay();
      }
      
      // pour le pourchentage
      function percent() {
        const current = parseFloat(currentInput);
        currentInput = (current / 100).toString();
        updateDisplay();
      }
      
      // pour changer les singe
      function toggleSign() {
        if (currentInput === '0' || currentInput === 'Erreur') return;
        
        if (currentInput.charAt(0) === '-') {
          currentInput = currentInput.substring(1);
        } else {
          currentInput = '-' + currentInput;
        }
        updateDisplay();
      }
      
      // pour rajouter des vhiffre
      function appendDecimal() {
        if (resetScreen) {
          currentInput = '0';
          resetScreen = false;
        }
        
        if (hasCalculated) {
          currentInput = '0';
          hasCalculated = false;
        }
        
        if (currentInput.includes('.')) return;
        currentInput += '.';
        updateDisplay();
      }
      
      // Épour que les boutons marche 
      numberButtons.forEach(button => {
        button.addEventListener('click', () => {
          appendNumber(button.getAttribute('data-number'));
        });
      });
      
      // pour les operation n
      operationButtons.forEach(button => {
        button.addEventListener('click', () => {
          handleOperation(button.getAttribute('data-operation'));
        });
      });
      
      // pour afficher le resultat
      if (equalsButton) {
        equalsButton.addEventListener('click', () => {
          calculate();
        });
      }
      
      // efacment
      if (clearButton) {
        clearButton.addEventListener('click', () => {
          clear();
        });
      }
      
      // retour en arriere 
      if (backspaceButton) {
        backspaceButton.addEventListener('click', () => {
          backspace();
        });
      }
      
      // pour le pourcentage
      if (percentButton) {
        percentButton.addEventListener('click', () => {
          percent();
        });
      }
      
      // pour les changment de singe 
      if (plusMinusButton) {
        plusMinusButton.addEventListener('click', () => {
          toggleSign();
        });
      }
      
      // pour les bouton de decimal
      if (decimalButton) {
        decimalButton.addEventListener('click', () => {
          appendDecimal();
        });
      }
      
      // Écouteurs d'événements pour le clavier
      document.addEventListener('keydown', (event) => {
        // pour que sa ne me pas de calcule quand ont est ^pas dans la section
        const calculatriceSection = document.getElementById('calculatrice');
        if (!calculatriceSection) return;
        if (!calculatriceSection.offsetParent) return; // Vpour voir si ont voit la section
        
        // Touches numériques
        if (/^[0-9]$/.test(event.key)) {
          appendNumber(event.key);
        }
        
        // les operation
        switch (event.key) {
          case '+':
            handleOperation('+');
            break;
          case '-':
            handleOperation('-');
            break;
          case '*':
            handleOperation('*');
            break;
          case '/':
            handleOperation('/');
            break;
          case 'Enter':
            calculate();
            break;
          case 'Escape':
            clear();
            break;
          case 'Backspace':
            backspace();
            break;
          case '%':
            percent();
            break;
          case '.':
            appendDecimal();
            break;
        }
      });
      
      // pour que l affichage s remet 
      updateDisplay();
    }
    // fin de la fontion de la calu

  </script>
</body>
</html>